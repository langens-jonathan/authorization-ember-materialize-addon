import Ember from 'ember';
import layout from '../templates/components/groups-list';

export default Ember.Component.extend({
    layout: layout,

    classNames: ['groups-list'],

    store: Ember.inject.service('store'),

    groups: [],

    didInsertElement: function() {
	var groupPromise;
	groupPromise = this.get('store').query('userGroup', {});
	return groupPromise.then((function(_this) {
	    return function(groupslist) {
		var ngroups;
		ngroups = [];
		groupslist.forEach(function(g, i) {
		    return ngroups.pushObject(g);
		});
		return _this.set('groups', ngroups);
	    };
	})(this));
    },

    actions: {
	newGroup: function() {
	    // should go to the new group stuff
	    //return this.transitionTo('newGroup');
	},
	removeGroup: function(group) {
	    group.destroyRecord();
	}
    }
});
